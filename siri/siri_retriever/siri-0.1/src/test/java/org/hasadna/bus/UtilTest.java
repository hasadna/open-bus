package org.hasadna.bus;

import org.assertj.core.api.Assertions;
import org.hasadna.bus.entity.GetStopMonitoringServiceResponse;
import org.hasadna.bus.util.SoapUtils;
import org.junit.Test;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import javax.xml.bind.JAXBContext;
import javax.xml.bind.JAXBElement;
import javax.xml.bind.JAXBException;
import javax.xml.bind.Unmarshaller;
import javax.xml.transform.stream.StreamSource;
import java.io.StringReader;


public class UtilTest {


    protected final Logger logger = LoggerFactory.getLogger(this.getClass());

    @Test
    public void testRemoveSoapEnvelope() {
        String soapResponse = SOAP_RESPONSE_1;
        Assertions.assertThat(soapResponse)
                .startsWith("<?xml version='1.0' encoding='UTF-8'?>")
                .contains("<S:Envelope")
                .contains("<S:Envelope")
                .contains("Body")
                .contains("</S:Body></S:Envelope>");

        String xmlWithoutEnvelope = SoapUtils.removeSoapEnvelope(soapResponse);
        Assertions.assertThat(xmlWithoutEnvelope)
                .doesNotStartWith("<?xml version='1.0' encoding='UTF-8'?>")
                .doesNotStartWith("<S:Envelope")
                .doesNotContain("<S:Envelope")
                .doesNotContain("Body")
                .doesNotContain("</S:Body></S:Envelope>")
                .contains("<ns7:GetStopMonitoringServiceResponse")
                .contains("</ns7:GetStopMonitoringServiceResponse>")
        ;
    }

    ThreadLocal<Unmarshaller> localUnmarshaller = ThreadLocal.withInitial(() -> {
        try {
            JAXBContext jaxbContext = JAXBContext.newInstance(GetStopMonitoringServiceResponse.class);
            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();
            return jaxbUnmarshaller;
        } catch (Exception e) {
            logger.error("absorbing ", e);
            return null;
        }
    });

    public GetStopMonitoringServiceResponse unmarshalXml(String xml) {
        try {
            Unmarshaller jaxbUnmarshaller = localUnmarshaller.get();
            if (jaxbUnmarshaller == null) {
                JAXBContext jaxbContext = JAXBContext.newInstance(GetStopMonitoringServiceResponse.class);
                jaxbUnmarshaller = jaxbContext.createUnmarshaller();
                localUnmarshaller.set(jaxbUnmarshaller);
            }
            StreamSource streamSource = new StreamSource(new StringReader(xml));
            JAXBElement<GetStopMonitoringServiceResponse> je = null;
            try {
                je = jaxbUnmarshaller.unmarshal(streamSource, GetStopMonitoringServiceResponse.class);
            } catch (Exception ex) {
                logger.error("error in unmarshal", ex);
                logger.error("xml={}", xml);
                ex.printStackTrace();
                System.out.println(xml);
                return null;
            }

            GetStopMonitoringServiceResponse response = je.getValue();
            response.setXmlContent(xml);
            return response;
        } catch (JAXBException ex) {
            logger.error("error with following xml: " + xml, ex);
            ex.printStackTrace();
            return null;
        }
    }

    @Test
    public void testRemoveSoapEnvelope2() {
        String soapResponse = SOAP_RESPONSE_2;
        String xmlWithoutEnvelope = SoapUtils.removeSoapEnvelope(soapResponse);
        Assertions.assertThat(xmlWithoutEnvelope).isNotEmpty().startsWith("<ns7:GetStopMonitoringServiceResponse");
        GetStopMonitoringServiceResponse x = unmarshalXml(xmlWithoutEnvelope);
        Assertions.assertThat(x).isNotNull();
    }

    public final String SOAP_RESPONSE_1 = "<?xml version='1.0' encoding='UTF-8'?><S:Envelope xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\"><S:Body><ns7:GetStopMonitoringServiceResponse xmlns:ns3=\"http://www.siri.org.uk/siri\" xmlns:ns4=\"http://www.ifopt.org.uk/acsb\" xmlns:ns5=\"http://www.ifopt.org.uk/ifopt\" xmlns:ns6=\"http://datex2.eu/schema/1_0/1_0\" xmlns:ns7=\"http://new.webservice.namespace\"><Answer><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:ProducerRef>ISR Siri Server (141.12)</ns3:ProducerRef><ns3:ResponseMessageIdentifier>22634694</ns3:ResponseMessageIdentifier><ns3:RequestMessageRef>0100700:1351669188:4684</ns3:RequestMessageRef><ns3:Status>true</ns3:Status><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:12.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724314</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458131</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T20:00:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.85939407348633</ns3:Longitude><ns3:Latitude>31.917808532714844</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8331253</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T22:22:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724316</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724319</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724321</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724324</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724327</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724329</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724331</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724334</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724337</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724339</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724342</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"IL2.7\"><ns3:ResponseTimestamp>2018-09-03T22:17:14.603+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2018-09-03T22:17:11.000+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1049724344</ns3:ItemIdentifier><ns3:MonitoringRef>35744</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>11494</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2018-09-03</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>29458134</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>371</ns3:PublishedLineName><ns3:OperatorRef>15</ns3:OperatorRef><ns3:DestinationRef>35744</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2018-09-03T21:30:00.000+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.760990142822266</ns3:Longitude><ns3:Latitude>31.606674194335938</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>8335753</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>35744</ns3:StopPointRef><ns3:ExpectedArrivalTime>2018-09-03T23:25:00.000+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery></Answer></ns7:GetStopMonitoringServiceResponse></S:Body></S:Envelope>\n";
    public final String SOAP_RESPONSE_2 = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"+"<S:Envelope xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\"><S:Body><ns7:GetStopMonitoringServiceResponse xmlns:ns7=\"http://new.webservice.namespace\" xmlns:ns6=\"http://datex2.eu/schema/1_0/1_0\" xmlns:ns5=\"http://www.ifopt.org.uk/ifopt\" xmlns:ns4=\"http://www.ifopt.org.uk/acsb\" xmlns:ns3=\"http://www.siri.org.uk/siri\"><Answer><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:ProducerRef>Moran</ns3:ProducerRef><ns3:ResponseMessageIdentifier>2be97063-cfda-444c-aaf3-6a5d84750407</ns3:ResponseMessageIdentifier><ns3:RequestMessageRef>0100700:1351669188:4684</ns3:RequestMessageRef><ns3:Status>true</ns3:Status><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:00:43+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856322</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7605769</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:12:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T14:36:02+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856323</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.807026</ns3:Longitude><ns3:Latitude>31.26078</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>7666669</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:15:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856324</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:00:43+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856325</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7605769</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:12:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T14:36:02+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856326</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.807026</ns3:Longitude><ns3:Latitude>31.26078</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>7666669</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:15:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856327</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:00:43+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856328</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7605769</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:12:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T14:36:02+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856329</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.807026</ns3:Longitude><ns3:Latitude>31.26078</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>7666669</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:15:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856330</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:00:43+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856331</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7605769</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:12:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T14:36:02+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856332</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.807026</ns3:Longitude><ns3:Latitude>31.26078</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>7666669</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:15:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856333</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:00:43+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856334</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7605769</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:12:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T14:36:02+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856335</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.807026</ns3:Longitude><ns3:Latitude>31.26078</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>7666669</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:15:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856336</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:00:43+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856337</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7605769</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:12:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T14:36:02+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856338</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.807026</ns3:Longitude><ns3:Latitude>31.26078</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>7666669</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:15:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856339</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:00:43+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856340</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7605769</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:12:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T14:36:02+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856341</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.807026</ns3:Longitude><ns3:Latitude>31.26078</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>7666669</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:15:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856342</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:00:43+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856343</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7605769</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:12:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T14:36:02+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856344</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535314</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T14:25:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleLocation><ns3:Longitude>34.807026</ns3:Longitude><ns3:Latitude>31.26078</ns3:Latitude></ns3:VehicleLocation><ns3:VehicleRef>7666669</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:ExpectedArrivalTime>2020-06-05T15:15:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856345</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856346</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856347</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856348</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery><ns3:StopMonitoringDelivery version=\"2.7\"><ns3:ResponseTimestamp>2020-06-05T14:36:31+03:00</ns3:ResponseTimestamp><ns3:Status>true</ns3:Status><ns3:MonitoredStopVisit><ns3:RecordedAtTime>2020-06-05T04:24:19+03:00</ns3:RecordedAtTime><ns3:ItemIdentifier>1872856349</ns3:ItemIdentifier><ns3:MonitoringRef>60329</ns3:MonitoringRef><ns3:MonitoredVehicleJourney><ns3:LineRef>18093</ns3:LineRef><ns3:DirectionRef>2</ns3:DirectionRef><ns3:FramedVehicleJourneyRef><ns3:DataFrameRef>2020-06-05</ns3:DataFrameRef><ns3:DatedVehicleJourneyRef>47535315</ns3:DatedVehicleJourneyRef></ns3:FramedVehicleJourneyRef><ns3:PublishedLineName>253</ns3:PublishedLineName><ns3:OperatorRef>4</ns3:OperatorRef><ns3:DestinationRef>60329</ns3:DestinationRef><ns3:OriginAimedDepartureTime>2020-06-05T15:30:00+03:00</ns3:OriginAimedDepartureTime><ns3:VehicleRef>7669269</ns3:VehicleRef><ns3:MonitoredCall><ns3:StopPointRef>60329</ns3:StopPointRef><ns3:AimedArrivalTime>2020-06-05T16:13:00+03:00</ns3:AimedArrivalTime><ns3:ExpectedArrivalTime>2020-06-05T16:13:00+03:00</ns3:ExpectedArrivalTime></ns3:MonitoredCall></ns3:MonitoredVehicleJourney></ns3:MonitoredStopVisit></ns3:StopMonitoringDelivery></Answer></ns7:GetStopMonitoringServiceResponse></S:Body></S:Envelope>\n";
}
